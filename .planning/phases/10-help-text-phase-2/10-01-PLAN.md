---
phase: 10-help-text-phase-2
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [src/ui/renderer.rs]
autonomous: true

must_haves:
  truths:
    - "Keys are visually distinct from action labels"
    - "Keys appear in pink/magenta color"
    - "Labels appear in default foreground color"
  artifacts:
    - path: "src/ui/renderer.rs"
      provides: "Two-color help text rendering"
      contains: "color_range(3"
  key_links:
    - from: "render_help_text"
      to: "print_text_with_coordinates"
      via: "selective color_range for keys only"
      pattern: "color_range\\(3"
---

<objective>
Implement two-color help text styling where keys are pink/magenta and labels are default foreground.

Purpose: Make keybindings instantly scannable by creating visual contrast between keys and their descriptions.
Output: Updated render_help_text function with selective coloring.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-help-text-phase-2/10-CONTEXT.md

@src/ui/renderer.rs — render_help_text function (lines 477-505)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Implement two-color help text styling</name>
  <files>src/ui/renderer.rs</files>
  <action>
Modify render_help_text() to use selective color_range for keys vs labels:

**Color scheme:**
- Keys (including symbols): color index 3 (pink/magenta)
- Labels: default foreground (no color_range)

**Current help text strings to parse:**
- Row 1 (has sessions): "↑/↓: Navigate • Type: Search • Enter: Switch/New • Esc: Exit"
- Row 2 (has sessions): "Ctrl+Enter: Quick • Alt+r: Rename • Alt+d: Dead • Ctrl+r: Reload • Del: Kill"
- Row 1 (empty): "Type session name • Enter: Create • Esc: Exit"
- Row 2 (empty): "Ctrl+Enter: Quick create"

**Keys to color (index 3):**
- "↑/↓", "Enter", "Esc", "Ctrl+Enter", "Alt+r", "Alt+d", "Ctrl+r", "Del", "Type"

**Implementation approach:**
Create a helper function that takes a help text string and returns a Text object with color_range applied to each key segment. Use find() to locate key positions and apply color_range(3, start..end) for each.

Example pattern:
```rust
fn style_help_text(text: &str, keys: &[&str]) -> Text {
    let mut result = Text::new(text);
    for key in keys {
        if let Some(start) = text.find(key) {
            result = result.color_range(3, start..start + key.len());
        }
    }
    result
}
```

Apply to both row1 and row2 in render_help_text().
  </action>
  <verify>cargo build --target wasm32-wasip1 compiles without errors</verify>
  <done>Help text shows keys in pink/magenta, labels in default foreground</done>
</task>

<task type="auto">
  <name>Task 2: Test help text styling in plugin</name>
  <files>src/ui/renderer.rs</files>
  <action>
Build and verify the plugin renders correctly:

1. Build: `cargo build --target wasm32-wasip1`
2. Load plugin in zellij dev layout: `zellij -l zellij.kdl`
3. Verify keys are visually distinct from labels in help bar

If any keys are not being colored correctly, adjust the key list or fix position calculation.
  </action>
  <verify>Visual inspection confirms two-color system in help text</verify>
  <done>Keys scannable at a glance due to color contrast</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cargo build --target wasm32-wasip1` succeeds
- [ ] `cargo clippy --target wasm32-wasip1 -- -D warnings` passes
- [ ] Help text displays with keys in pink/magenta
- [ ] Help text displays with labels in default foreground
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Help text is scannable with keys visually distinct
- No regression in existing functionality
</success_criteria>

<output>
After completion, create `.planning/phases/10-help-text-phase-2/10-01-SUMMARY.md`
</output>
