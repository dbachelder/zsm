---
phase: 01-color-palette
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [src/ui/theme.rs, src/ui/renderer.rs]
autonomous: true
---

<objective>
Replace harsh single-color session lines with split coloring: muted bullet indicators + colored session names.

Purpose: The current rendering colors the entire line (bullet + name + directory) with one color. The bullet character should be muted/dim while the session name stays vibrant.
Output: Session list with subtle gray bullets and colored session names that are easier to scan.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/ui/theme.rs
@src/ui/renderer.rs

Current color system (theme.rs):
- Uses indexed colors: 0=dim, 1=orange, 2=green, 3=cyan
- `current_session()` applies index 2 (green) to entire line
- `available_session()` applies index 3 (cyan) to entire line

Problem: Bullet (`○` or `●`) gets same color as session name.
Solution: Color bullet with index 0 (dim), name with index 2/3.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add bullet color method to Theme</name>
  <files>src/ui/theme.rs</files>
  <action>
Add a `bullet()` method to Theme that returns text colored with index 0 (dim/subtle):

```rust
/// Text for bullet indicators (color index 0 = dim)
pub fn bullet(&self, text: &str) -> Text {
    Text::new(text).color_range(0, ..)
}
```

Place it after the existing `warning()` method for logical grouping.
  </action>
  <verify>cargo build --target wasm32-wasip1 compiles without errors</verify>
  <done>Theme has bullet() method returning dim-colored text</done>
</task>

<task type="auto">
  <name>Task 2: Apply split coloring in render_item</name>
  <files>src/ui/renderer.rs</files>
  <action>
Update the `render_item()` function (around lines 233-260) to apply separate colors to bullet vs session name.

For ExistingSession variant:
1. Build the display string as before: `"{prefix}{name} ({directory})"`
2. Instead of coloring the entire string, apply TWO color ranges:
   - Index 0 (dim) for the bullet prefix (characters 0..2)
   - Index 2 (current) or 3 (available) for the rest (characters 2..)

Change from:
```rust
if *is_current {
    theme.current_session(&truncated_text)
} else {
    theme.available_session(&truncated_text)
}
```

To:
```rust
let color_idx = if *is_current { 2 } else { 3 };
Text::new(&truncated_text)
    .color_range(0, ..2)        // Dim bullet
    .color_range(color_idx, 2..) // Session name + directory
```

Apply same pattern to the fallback case (when theme is None).

Do NOT change ResurrectableSession or Directory variants - only ExistingSession needs split coloring.
  </action>
  <verify>
1. cargo build --target wasm32-wasip1 compiles
2. cargo clippy --target wasm32-wasip1 -- -D warnings passes
3. cargo test passes
  </verify>
  <done>
- ExistingSession bullets render in dim/muted color (index 0)
- Session names render in green (current) or cyan (available)
- Resurrectable sessions and directories unchanged
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cargo build --target wasm32-wasip1` succeeds
- [ ] `cargo clippy --target wasm32-wasip1 -- -D warnings` passes
- [ ] `cargo test` passes (run on native target)
- [ ] No new warnings introduced
</verification>

<success_criteria>

- All tasks completed
- Build and clippy pass on WASM target
- Tests pass on native target
- Bullets use muted color, session names use vibrant colors
</success_criteria>

<output>
After completion, create `.planning/phases/01-color-palette/01-01-SUMMARY.md`
</output>
