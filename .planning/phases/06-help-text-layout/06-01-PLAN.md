---
phase: 06-help-text-layout
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [src/ui/renderer.rs]
autonomous: true
---

<objective>
Restructure help text from a single line to two rows with logical grouping.

Purpose: Improve readability by separating navigation and action keys.
Output: Two-row help text with navigation on row 1, actions on row 2.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/ui/renderer.rs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update layout math for two help rows</name>
  <files>src/ui/renderer.rs</files>
  <action>
In `render_main_screen()`:
1. Change `table_rows = height.saturating_sub(4)` to `height.saturating_sub(5)` — reserves space for 2 help rows instead of 1
2. Change help text y-coordinate from `y + height.saturating_sub(1)` to `y + height.saturating_sub(2)` — starts help text 2 rows from bottom

This ensures the table doesn't overlap with the new two-row help text.
  </action>
  <verify>cargo build --target wasm32-wasip1 compiles without errors</verify>
  <done>Layout reserves 2 rows for help text at bottom</done>
</task>

<task type="auto">
  <name>Task 2: Render two-row help text</name>
  <files>src/ui/renderer.rs</files>
  <action>
Modify `render_help_text()` to render two rows:

For non-empty state:
- Row 1 (Navigation): "↑/↓: Navigate • Type: Search"
- Row 2 (Actions): "Enter: Switch/New • Ctrl+Enter: Quick create • Ctrl+r: Reload • Delete: Kill • Esc: Exit"

For empty state:
- Row 1: "Type session name"
- Row 2: "Enter: Create • Ctrl+Enter: Quick create • Esc: Exit"

Implementation:
1. Change function signature to accept `y` as base row (will render at y and y+1)
2. Build row1_text and row2_text strings based on `state.display_items().is_empty()`
3. Render row1 at y, row2 at y+1
4. Apply the same color_range(1, ..) styling to both rows

Note: Shortened "reload directories" to "Reload" for better fit.
  </action>
  <verify>cargo build --target wasm32-wasip1 compiles, cargo clippy -- -D warnings passes</verify>
  <done>Help text renders on two lines with navigation/action grouping</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cargo build --target wasm32-wasip1` succeeds
- [ ] `cargo clippy -- -D warnings` passes
- [ ] `cargo fmt --check` passes
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Help text displays on two rows
- Navigation keys grouped on row 1
- Action keys grouped on row 2
</success_criteria>

<output>
After completion, create `.planning/phases/06-help-text-layout/06-01-SUMMARY.md`
</output>
